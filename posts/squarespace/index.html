<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><link rel=icon type=image/ico href=https://pokom.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://pokom.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://pokom.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=192x192 href=https://pokom.github.io/android-chrome-192x192.png><link rel=apple-touch-icon sizes=180x180 href=https://pokom.github.io/apple-touch-icon.png><meta name=description content><title>Squarespace | Mark Poko</title><link rel=canonical href=https://pokom.github.io/posts/squarespace/><meta property="og:url" content="https://pokom.github.io/posts/squarespace/"><meta property="og:site_name" content="Mark Poko"><meta property="og:title" content="Squarespace"><meta property="og:description" content="I use squarespace for markpoko.dev’s DNS records, though not by choice. Up until 2024, I had used Google domains to handle my DNS thingy. At the time it made sense as I was diving deep into learning GCP. There was a nice integration between Cloud Run and Google Domains, making it trivial to expose services over a DNS entry. As Google does, the project was shut down and sold off to Squarespace."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-17T22:36:07-05:00"><meta property="article:modified_time" content="2025-01-17T22:36:07-05:00"><link rel=stylesheet href=/assets/combined.min.56b1873d8852f8a5a109abda36c1bfcde55cb48e5bcbe0d8c934a196a7dc374a.css media=all></head><body class=auto><div class=content><header><header><h1><a href=/>Mark Poko</a></h1><script>(function(){var e=document.createElement("script");e.src="https://unpkg.com/@grafana/faro-web-sdk@latest/dist/bundle/faro-web-sdk.iife.js",e.onload=()=>{window.GrafanaFaroWebSdk.initializeFaro({url:"https://faro-collector-prod-us-east-2.grafana.net/collect/ca670bb0217f3a5cc40ce1796b990ea8",app:{name:"markpoko.dev/blog",version:"1.0.0",environment:"production"}});var e=document.createElement("script");e.src="https://unpkg.com/@grafana/faro-web-tracing@latest/dist/bundle/faro-web-tracing.iife.js",e.onload=()=>{window.GrafanaFaroWebSdk.faro.instrumentations.add(new window.GrafanaFaroWebTracing.TracingInstrumentation)},document.head.appendChild(e)},document.head.appendChild(e)})()</script></header></header><main class=main><div class=breadcrumbs><a href=/>~</a><span class=breadcrumbs-separator>/</span><a href=/posts/>Posts</a><span class=breadcrumbs-separator>/</span>
<a href=/posts/squarespace/>Squarespace</a></div><div><article><header class=single-intro-container><h1 class=single-title>Squarespace</h1><div class=single-subsummary><div><p class=single-date><time datetime=2025-01-17T22:36:07-05:00>January 17, 2025</time></p></div></div></header><div class=single-content><p>I use squarespace for <code>markpoko.dev</code>&rsquo;s DNS records, though not by choice.
Up until 2024, I had used Google domains to handle my DNS thingy.
At the time it made sense as I was diving deep into learning GCP.
There was a nice integration between Cloud Run and Google Domains, making it trivial to expose services over a DNS entry.
As Google <a href=https://killedbygoogle.com/>does</a>, the <a href=https://9to5google.com/2023/06/15/google-domains-squarespace/>project was shut down and sold</a> off to Squarespace.</p><p>However, I&rsquo;m resurrecting my website and am having trouble getting it switched over to to GitHub Pages.</p><h2 class=heading id=configuration>Configuration
<a class=anchor href=#configuration>#</a></h2><p>I had four A records with the host set to <code>markpoko.dev</code>(this was the issue).
The records had been set for ~8 hours and I still couldn&rsquo;t access <code>markpoko.dev</code>.
When digging the stuff, I get no response.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dig markpoko.dev +noall +answer -t A
</span></span></code></pre></div><p>I tried a few other combinations</p><ul><li>finding the nameserves(<code>dig NS example.com +short</code>) and digging one of them directly</li><li>digging against <strong>@8.8.8.8</strong> and <strong>@1.1.1.1</strong></li><li>validating <code>whois markpoko.dev</code></li></ul><p>All of these had the same results, and so I decided to double check the configurations.
After reviewing an example config, it was obvious that the host was not set properly.
The host was set to <code>markpoko.dev</code> without fully understanding what the propery was.</p><h2 class=heading id=dns-records-in-30-seconds>DNS Records in 30 seconds
<a class=anchor href=#dns-records-in-30-seconds>#</a></h2><p>The host refers to the <code>subdomain</code> the record will apply for.
A special scenario is the root domain(<code>markpoko.dev</code>).
The root domain can be represented as either blank or <code>@</code>.
Otherwise, it&rsquo;s the <code>subdomain</code> passed in(<code>api.markpoko.dev</code>).
A number of records can have multiple entries set.
Usually this means the dns server will round robin requests to the IP addresses set.
CNAMES and ALIAS can only have one entry.</p><h2 class=heading id=back-to-it>Back to it
<a class=anchor href=#back-to-it>#</a></h2><p>After updating the DNS records host from <code>markpoko.dev</code> to <code>@</code>, immediately afterwards the records were displaying properly:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>dig markpoko.dev +noall +answer -t A
</span></span><span style=display:flex><span>markpoko.dev.           60      IN      A       185.199.109.153
</span></span><span style=display:flex><span>markpoko.dev.           60      IN      A       185.199.108.153
</span></span><span style=display:flex><span>markpoko.dev.           60      IN      A       185.199.110.153
</span></span><span style=display:flex><span>markpoko.dev.           60      IN      A       185.199.111.153
</span></span></code></pre></div><p>Accessing <code>https://markpoko.dev</code> through firefox was showing potential security issues with the following warning:</p><blockquote><p>Websites prove their identity via certificates. Firefox does not trust this site because it uses a certificate that is not valid for markpoko.dev. The certificate is only valid for the following names: *.github.io, github.io, githubusercontent.com, <a href=https://www.github.com>www.github.com</a>, *.github.com, *.githubusercontent.com, github.com</p></blockquote><p>Curl was showing similar problems:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>curl https://markpoko.dev
</span></span><span style=display:flex><span>curl: (60) SSL: no alternative certificate subject name matches target host name <span style=color:#666;font-style:italic>&#39;markpoko.dev&#39;</span>
</span></span><span style=display:flex><span>More details here: https://curl.se/docs/sslcerts.html
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>curl failed to verify the legitimacy of the server and therefore could not
</span></span><span style=display:flex><span>establish a secure connection to it. To learn more about this situation and
</span></span><span style=display:flex><span>how to fix it, please visit the web page mentioned above.
</span></span></code></pre></div><p>Time to dig compare current DNS settings to the <a href=https://docs.github.com/en/pages/getting-started-with-github-pages/securing-your-github-pages-site-with-https#verifying-he-dns-configuration>docs</a>. I had missed</p><ul><li><code>AAAA</code> records for <code>@</code></li><li><code>CNAME</code> record for <code>www</code></li><li><code>ALIAS</code> which I&rsquo;ll come back too</li></ul><p>I skipped the alias, and was able to verify the customer domain from GitHub.
After that, <a href=https://markpoko.dev>markpoko.dev</a> loaded.</p><h2 class=heading id=alias-thoughts>Alias thoughts
<a class=anchor href=#alias-thoughts>#</a></h2><p>GitHub recommends having an <a href=https://docs.github.com/en/pages/getting-started-with-github-pages/securing-your-github-pages-site-with-https#verifying-the-dns-configuration>ALIAS or ANAME</a> set, which seems innocuous.
SquareSpace offers the ability to set an <code>ANAME</code>, so that&rsquo;s what I tried.
The gotcha was that SquareSpace required disabling <code>DNSSEC</code> before an <code>ANAME</code> can be set.
Given that there&rsquo;s already a <code>CNAME</code>, I made the assumption I could skip this setting.
I don&rsquo;t understand why GitHub would recommend setting one if it meant disabling DNSSEC.
However, I don&rsquo;t quite know DNSSEC well enough to understand the implications of disabling it.
Either way, you can skip setting the <code>ANAME</code> and move on.</p></div></article><div class=single-pagination><hr><div class=flexnowrap><div class=single-pagination-prev><div class=single-pagination-container-prev><div class=single-pagination-text>←</div><div class=single-pagination-text><a href=/posts/2025-01-17-hello-world/>Hello World</a></div></div></div><div class=single-pagination-next><div class=single-pagination-container-next><div class=single-pagination-text><a href=/posts/faro/>Faro</a></div><div class=single-pagination-text>→</div></div></div></div><hr></div><div class=back-to-top><a href=#top>back to top</a></div></div></main></div><footer><p>Powered by
<a href=https://gohugo.io/>Hugo</a>
and
<a href=https://github.com/tomfran/typo>tomfran/typo</a></p></footer></body><script src=/js/theme-switch.js></script><script defer src=/js/copy-code.js></script></html>